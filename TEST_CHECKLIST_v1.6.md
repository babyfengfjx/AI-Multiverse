# AI Multiverse Chat v1.6 - 文件上传功能测试清单

## 测试前准备
1. 在 `chrome://extensions/` 中重新加载扩展
2. 打开AI Multiverse Chat侧边栏 (Alt+Shift+S)
3. 确保至少有一个AI平台页面已打开

## UI测试
### 文件选择器
- [ ] 检查附件按钮（回形针图标）是否正确显示
- [ ] 点击附件按钮应触发文件选择对话框
- [ ] 文件输入框是隐藏的（display:none）

### 文件预览
- [ ] 选择文件后，预览区域应显示文件信息
- [ ] 预览显示文件名、类型（图标）、大小
- [ ] 每个文件旁边有"×"按钮可以移除
- [ ] 有"清空所有文件"按钮
- [ ] 未选择文件时预览区域隐藏

### 文件限制
- [ ] 选择超过10MB的单文件应显示错误提示
- [ ] 总大小超过50MB应显示错误提示
- [ ] 多文件选择应正确累加大小

## 功能测试
### 文件读取
- [ ] 选择图片文件（JPEG/PNG）能正确读取
- [ ] 选择PDF文件能正确读取
- [ ] 选择文本文件能正确读取
- [ ] 选择不支持的文件类型应有提示

### 文件传输
- [ ] 发送消息时，文件数据正确传递到background
- [ ] background正确传递到content script
- [ ] 历史记录中保存文件的元数据（name, type, size）

### 文件上传
#### Gemini
- [ ] 图片文件能成功上传
- [ ] PDF文件能成功上传
- [ ] 文件显示在聊天输入框中
- [ ] 只有支持的文件类型被上传

#### Grok
- [ ] 图片文件能成功上传
- [ ] PDF文件能成功上传

#### Kimi
- [ ] 图片文件能成功上传
- [ ] PDF文件能成功上传
- [ ] Word文档能成功上传
- [ ] Markdown文件能成功上传

#### DeepSeek
- [ ] 图片文件能成功上传
- [ ] 不支持的文件类型被过滤

#### ChatGPT
- [ ] 图片文件能成功上传
- [ ] PDF文件能成功上传
- [ ] 代码文件（.py, .js）能成功上传

#### Qwen
- [ ] PDF文件能成功上传
- [ ] Word文档能成功上传
- [ ] Markdown文件能成功上传
- [ ] Excel文件能成功上传

#### Yuanbao
- [ ] 图片文件能成功上传
- [ ] PDF文件能成功上传
- [ ] 文本文件能成功上传

### 错误处理
- [ ] 文件读取失败应有错误提示
- [ ] 上传失败应有错误提示
- [ ] 超时（30秒）应有错误提示
- [ ] 失败后自动重试（最多2次）

## 国际化测试
### 英文界面
- [ ] 所有文件相关按钮显示英文
- [ ] 错误消息显示英文
- [ ] 文件大小格式正确（B, KB, MB, GB）

### 中文界面
- [ ] 所有文件相关按钮显示中文
- [ ] 错误消息显示中文
- [ ] 文件大小格式正确（字节, KB, MB, GB）

## 边界测试
- [ ] 同时上传多个文件（最多5个）
- [ ] 上传0字节文件
- [ ] 上传接近限制大小的文件（9.9MB）
- [ ] 快速连续选择和移除文件
- [ ] 刷新页面后历史记录仍显示文件元数据

## 性能测试
- [ ] 大文件（5MB）读取时间合理（<5秒）
- [ ] 多文件同时上传不阻塞UI
- [ ] 内存占用合理（无内存泄漏）

## 集成测试
- [ ] 文件+文本消息同时发送
- [ ] 仅文件（无文本）发送
- [ ] 文件在不同布局模式下正常工作
- [ ] 文件在浏览模式下正常工作
- [ ] 主题切换不影响文件上传功能

## 已知问题
（如有）
